template: transmission_client

disable:
  - seen
  - seen_info_hash

from_transmission: {}

priority: 10

if:
  - transmission_ratio >= 2.0: accept
  - transmission_seed_time > 259200: accept

exec:
  on_output:
    for_entries: |
      echo "Removing completed torrents: {{title}}"
      echo "  - Ratio: {{transmission_ratio|default('N/A')}}"
      {% if transmission_seed_time is defined %}
      echo "  - Seeding time: {{transmission_seed_time}} seconds"
      {% endif %}
      {% if transmission_size_when_done is defined %}
      echo "  - Size: {{transmission_size_when_done|filesizeformat}}"
      {% endif %}

transmission:
  action: purge
